<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript</title>
</head>
<body>
    <h1>JavaScript this 关键字</h1>
    <h2>方法中的 this</h2>
    <p>在对象方法中， this 指向调用它所在方法的对象</p>
    <div id="demo"></div>
    <script>
        var person = {
            firstName: "John",
            lastName: "Doe",
            id: 1121,
            fullName: function() {
                return this.firstName + " " + this.lastName;
            }
        };
        document.getElementById("demo").innerHTML = person.fullName();
    </script>
    <h2>单独使用 this</h2>
    <p>单独使用 this，则它指向全局(Global)对象. 在浏览器中，window 就是该全局对象为 [object Window]</p>
    <div id="demo2"></div>
    <script>
        var x = this;
        document.getElementById("demo2").innerHTML = x;
    </script>
    <h2>函数中使用 this（默认）</h2>
    <p>在函数中，函数的所属者默认绑定到 this 上。

        在浏览器中，window 就是该全局对象为 [object Window]</p>
    <p id="demo3"></p>
    <script>
        document.getElementById("demo3").innerHTML = myFunction();
        function myFunction() {
            return this;
        }
    </script>
    <h2>函数中使用 this（严格模式）</h2>
    <p>严格模式下函数是没有绑定到 this 上，这时候 this 是 undefined</p>
    <h2>事件中的 this</h2>
    <p>在 HTML 事件句柄中，this 指向了接收事件的 HTML 元素：</p>
    <button onclick="this.style.display='none'">点我后我就消失了</button>
    <h2>显式函数绑定</h2>
    <p>
        在 JavaScript 中函数也是对象，对象则有方法，apply 和 call 就是函数对象的方法。这两个方法异常强大，他们允许切换函数执行的上下文环境（context），即 this 绑定的对象。

在下面实例中，当我们使用 person2 作为参数来调用 person1.fullName 方法时, this 将指向 person2, 即便它是 person1 的方法
    </p>
    <div id="demo5"></div>
    <script>
        var person1 = {
          fullName: function() {
            return this.firstName + " " + this.lastName;
          }
        }
        var person2 = {
          firstName:"John",
          lastName: "Doe",
        }
        var x = person1.fullName.call(person2); 
        document.getElementById("demo5").innerHTML = x; 
    </script>
</body>
</html>