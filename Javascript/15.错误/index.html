<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript</title>
</head>
<body>
    <h1>JavaScript 错误</h1>
    <p>
        try 语句测试代码块的错误。<br>

        catch 语句处理错误。<br>

        throw 语句创建自定义错误。<br>

        finally 语句在 try 和 catch 语句之后，无论是否有触发异常，该语句都会执行。<br>
    </p>
    <h3>语法</h3>
    <xmp>
        try {
            ...    //异常的抛出
        } catch(e) {
            ...    //异常的捕获与处理
        } finally {
            ...    //结束处理
        }
    </xmp>
    <input type="button" value="查看消息" onclick="message()" />
    <p id="demo"></p>
    <script>
        var txt="";
        function message(){
            try {
                adddlert("Welcome guest!");
            }
            catch(err) {
                txt="本页有一个错误。\n\n";
                txt+="错误描述：" + err.message + "\n\n";
                txt+="点击确定继续。\n\n";
                document.getElementById("demo").innerHTML = txt;
            }
        }
    </script>
    <h3>finally 语句</h3>
    <p>finally 语句不论之前的 try 和 catch 中是否产生异常都会执行该代码块。</p>
    <input type="button" value="查看消息" onclick="message2()" />
    <p id="demo2"></p>
    <script>
        var txt="";
        function message2(){
            try {
                adddlert("Welcome guest!");
            }
            catch(err) {
                txt="本页有一个错误。\n\n";
                txt+="错误描述：" + err.message + "\n\n";
                txt+="点击确定继续。\n\n";
                document.getElementById("demo2").innerHTML = txt;
            } finally {
                document.getElementById("demo2").innerHTML += " this is finally test.";
            }
        }
    </script>
    <h3>Throw 语句</h3>
    <p>请输出一个 5 到 10 之间的数字:</p>

    <input id="demo3" type="text">
    <button type="button" onclick="myFunction()">测试输入</button>
    <p id="message3"></p>
    <script>
        function myFunction() {
            var message, x;
            debugger;
            message = document.getElementById("message3");
            message.innerHTML = "";
            x = document.getElementById("demo3").value;
            try { 
                if(x == "")  throw "值为空";
                if(isNaN(x)) throw "不是数字";
                x = Number(x);
                if(x < 5)    throw "太小";
                if(x > 10)   throw "太大";
            }
            catch(err) {
                message.innerHTML = "错误: " + err;
            }
        }
    </script>
</body>
</html>